<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8">
  <title>編輯護理紀錄</title>
  <link rel="stylesheet" href="../assets/css/styles.css">
</head>
<body>

<!-- Header + Login 保護 -->
<script type="module">
  import "../assets/js/layout.js";
  if (!window.requireLogin()) {
    throw new Error("未登入，停止執行");
  }
</script>
<script type="module">
  import { initAISuggestion } from "../assets/js/ai_helper.js";

  const textarea = document.getElementById("note");
  const overlay = document.getElementById("overlay");

  initAISuggestion(textarea, overlay);
</script>
  <script type="module" src="records.js"></script>


<div class="container">
  <h2>編輯護理紀錄</h2>

  <form id="editRecordForm" class="form-card">

    <label>紀錄 ID
      <input id="recordId" disabled>
    </label>

    <label>病患 ID
      <input id="patientId" disabled>
    </label>

    <label>紀錄時間
      <input id="time" type="datetime-local" required>
    </label>

    <label for="note">護理紀錄內容</label>
    <div class="copilot-container">
      <div id="overlay" class="suggestion-overlay"></div>
      <textarea id="note" class="record-textarea" rows="8" required></textarea>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn">儲存更新</button>
      <button type="button" class="btn-secondary" id="cancelBtn">取消</button>
    </div>

  </form>
</div>

<script type="module" src="record.js"></script>

</body>
</html>
